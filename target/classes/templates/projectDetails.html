<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<script src="http://mymaplist.com/js/vendor/TweenLite.min.js"></script>
<!-- Latest compiled and minified CSS -->
<head lang="en" th:include="fragments/header">
<title>Dashboard</title>
<link href="https://code.fancygrid.com/fancy.min.css" rel="stylesheet">
<script src="https://code.fancygrid.com/fancy.min.js"></script>
</head>
<link type="text/css" href="css/landingpage.css" rel="stylesheet" />


<!-- Isolated Version of Bootstrap, not needed if your site already uses Bootstrap -->
<link rel="stylesheet"
	href="https://formden.com/static/cdn/bootstrap-iso.css" />

<!-- Bootstrap Date-Picker Plugin -->
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.14.30/js/bootstrap-datetimepicker.min.js"></script>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css" />
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment.min.js"></script>
<link rel="stylesheet"
	href="http://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.min.css">

<script
	src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.1/moment.min.js"></script>
<script
	src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.4.0/lang/en-gb.js"></script>
<script
	src="http://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/3.0.0/js/bootstrap-datetimepicker.min.js"></script>
<div class="container">

	<!-- PROJECT SUMMARY -->
	<table class="table table-striped">
		<tbody>
			<tr>
				<strong>Project Name: </strong>
				<p th:text="${project.projectName}"></p>
			</tr>
			<tr>
				<strong>Last Analysis: </strong>
				<p th:text="${project.lastAnalysis}"></p>
				</td>
			<tr>
				<strong>Last Result: </strong>
				<p th:text="${project.status}"></p>
				</td>
			<tr>
				<strong>Overall: </strong>
				<p th:text="|${#lists.size(commits)} / ${project.totalCommits}|"></p>
			<tr>
			<tr>
				<strong>Failed: </strong>
				<p
					th:text="|${project.countFailedCommits} / ${project.totalCommits}|"></p>
				</td>
			<tr>
				<strong>Succeeded: </strong>
				<p
					th:text="|${project.countSuccessCommits} / ${project.totalCommits}|"></p>
				</td>
			<tr th:if="${project.nextAnalysis != null}">
				<td><strong>Next Analysis:</strong>
					<p th:text="${project.nextAnalysis}"></td>
				<td><p data-placement="top" data-toggle="tooltip" title="Edit">
						<button class="btn btn-primary btn-xs" data-title="Edit"
							data-toggle="modal" data-target="#edit">
							<span class="glyphicon glyphicon-pencil"></span>
						</button>
					</p></td>
				<td><p data-placement="top" data-toggle="tooltip"
						title="Delete">
						<button class="btn btn-danger btn-xs" data-title="Delete"
							data-toggle="modal" data-target="#delete">
							<span class="glyphicon glyphicon-trash"></span>
						</button>
					</p></td>
			</tr>
					</tbody>
	</table>
			<table  class="table table-bordered" th:if="${project.nextAnalysis == null}">
			<thead>
    <tr>
      <th>New Analysis Scheduling</th>
 
    </tr>
  </thead>
			<tr th:if="${project.nextAnalysis == null}">

				<td><div class='input-group date' id='datetimepicker1'>
						<input type='text' class="form-control" /> <span
							class="input-group-addon"> <span
							class="glyphicon glyphicon-calendar"></span>
						</span>
					</div></td>
				<td>
					<button class="btn btn-custom" data-toggle="modal"
						data-target="#myModal">
						<span class="glyphicon glyphicon-refresh"></span> Schedule a new
						analysis
					</button>
				</td>
				</tr>

			<tr th:if="${project.nextAnalysis == null}">
					<td>
						Hours (0-23): <input value="5" type="number" max='23' min='0'
							
							name="repetitionHours">
				
					 </td>
		    </tr>
					<tr th:if="${project.nextAnalysis == null}"><td>
						Minutes (0-59): <input value="30" type="number" max='59' min='0'
						
							name="repetitionMinutes">
					</td> </tr>
					 <tr th:if="${project.nextAnalysis == null}"><td>  
					
						Days (0-20): <input value="7" type="number" max='20' min='0'
							
							name="repetitionDay">
					</td></tr>
			
</table>
		



	<!-- ANALYSED COMMITS TABLE -->
	<table class="table table-striped">
		<thead>
			<tr>
				<th># analysis</th>
				<th>Commit SHA</th>
				<th>Analyzed on</th>
				<th>Commit date</th>
				<th>Result</th>
				<!-- status of the analysis: either SUCCESS or FAIL -->
			</tr>
		</thead>
		<tbody>
			<!-- ________ -->
			<tr th:each="commit : ${commits}">
				<td><p th:text="${commit.idCommitAnalysis}"></p></td>
				<td><p th:text="${commit.ssa}"></p></td>
				<td><p th:text="${commit.analysisDate}"></p></td>
				<td><p th:text="${commit.creationDate}"></p></td>
				<td><p th:text="${commit.status}"></p></td>
			</tr>
		</tbody>
	</table>

	<script type="text/javascript">
		$(function() {
			$('#datetimepicker1').datetimepicker({
				setDate : new Date(),
				format : 'DD/MM/YYYY HH:mm',
				defaultDate : new Date()
			});
		});
	</script>

</div>




</html>
